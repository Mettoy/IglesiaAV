<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Miembros - AdoraciÃ³n Viva</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #f0f4f8;
    }

    .sidebar {
      background-color: #001f3f;
      color: white;
      width: 250px;
      height: 100vh;
      position: fixed;
      transition: 0.3s;
    }

    .sidebar.collapsed {
      width: 60px;
    }

    .sidebar .logo {
      text-align: center;
      padding: 15px;
    }

    .sidebar .logo img {
      width: 100px;
    }

    .menu {
      display: flex;
      flex-direction: column;
      margin-top: 20px;
    }

    .menu button {
      background: none;
      border: none;
      color: white;
      padding: 15px;
      text-align: left;
      width: 100%;
      cursor: pointer;
    }

    .main {
      margin-left: 250px;
      padding: 20px;
      transition: margin-left 0.3s;
    }

    .sidebar.collapsed ~ .main {
      margin-left: 60px;
    }

    .toggle-btn {
      position: absolute;
      top: 20px;
      left: 260px;
      cursor: pointer;
      font-size: 24px;
      background-color: #ffc107;
      color: #001f3f;
      padding: 5px 10px;
      border-radius: 5px;
      border: none;
    }

    .sidebar.collapsed + .toggle-btn {
      left: 70px;
    }

    .section {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .section h2 {
      margin-top: 0;
      color: #001f3f;
    }

    .form-section {
      display: none;
    }

    .form-section.active {
      display: block;
    }

    input, select {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .btn-add {
      background-color: #ffc107;
      color: #001f3f;
      padding: 10px 20px;
      border: none;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
    }

    .tabs {
      display: flex;
      margin-bottom: 10px;
    }

    .tabs button {
      flex: 1;
      padding: 10px;
      cursor: pointer;
      border: none;
      background: #001f3f;
      color: white;
      font-weight: bold;
    }

    .tabs button.active {
      background: #ffc107;
      color: #001f3f;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }

    table th, table td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    table th {
      background-color: #001f3f;
      color: white;
    }

    .actions button {
      background: none;
      border: none;
      cursor: pointer;
      margin-right: 5px;
    }

    .pagination {
      text-align: center;
      margin-top: 10px;
    }

    .pagination button {
      background: #001f3f;
      color: white;
      border: none;
      padding: 5px 10px;
      margin: 0 2px;
      border-radius: 5px;
      cursor: pointer;
    }

    .pagination button.active {
      background: #ffc107;
      color: #001f3f;
    }

    .photo-preview {
      display: block;
      margin: 10px auto;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
    }
  </style>
</head>
<body>

<div class="sidebar" id="sidebar">
  <div class="logo">
    <img src="https://azywyqozwwbfctxeokug.supabase.co/storage/v1/object/public/logos//images%20(1).png" alt="Logo" />
  </div>
  <div class="menu">
    <button onclick="showForm()">âž• Agregar miembro</button>
    <button onclick="showTab('activos')">ðŸ‘¤ Activos</button>
    <button onclick="showTab('baja')">ðŸš« De baja</button>
  </div>
</div>
<button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>

<div class="main">
  <div class="section form-section" id="formSection">
    <h2>Agregar / Editar Miembro</h2>
    <form id="miembroForm">
      <img id="previewFoto" class="photo-preview" src="" />
      <input type="file" id="foto" onchange="previewFoto(event)" />
      <input type="text" id="nombre" placeholder="Nombre completo" required />
      <input type="text" id="codigo" placeholder="CÃ³digo" required />
      <input type="number" id="edad" placeholder="Edad" required />
      <input type="text" id="direccion" placeholder="DirecciÃ³n" required />
      <select id="sociedad">
        <option value="">Seleccione sociedad</option>
        <option value="jÃ³venes">JÃ³venes</option>
        <option value="damas">Damas</option>
        <option value="caballeros">Caballeros</option>
      </select>
      <!-- AÃ±adir campos familiares y espirituales aquÃ­ si deseas -->
      <button type="submit" class="btn-add">Guardar</button>
    </form>
  </div>

  <div class="tabs">
    <button id="tabActivos" class="active" onclick="showTab('activos')">Activos</button>
    <button id="tabBaja" onclick="showTab('baja')">De baja</button>
  </div>

  <div id="tablaActivos" class="section">
    <h2>Miembros Activos</h2>
    <table id="tablaActivosTable">
      <thead>
        <tr>
          <th>Foto</th>
          <th>Nombre</th>
          <th>CÃ³digo</th>
          <th>Edad</th>
          <th>DirecciÃ³n</th>
          <th>Sociedad</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="pagination" id="paginationActivos"></div>
  </div>

  <div id="tablaBaja" class="section" style="display:none">
    <h2>Miembros de Baja</h2>
    <table id="tablaBajaTable">
      <thead>
        <tr>
          <th>Foto</th>
          <th>Nombre</th>
          <th>CÃ³digo</th>
          <th>Edad</th>
          <th>DirecciÃ³n</th>
          <th>Sociedad</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="pagination" id="paginationBaja"></div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAyfPQzO7evryWcQ5d1lGV3z8aB-gFOh_k",
    authDomain: "iglesia-adoracion-viva.firebaseapp.com",
    projectId: "iglesia-adoracion-viva",
    storageBucket: "iglesia-adoracion-viva.appspot.com",
    messagingSenderId: "815332010058",
    appId: "1:815332010058:web:d2afff616469349d88deb3"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // AquÃ­ deberÃ­as agregar la lÃ³gica para:
  // - Mostrar los miembros paginados por estado (activo o baja)
  // - Guardar y editar miembros
  // - Dar de baja y reactivar
  // - Ordenar por nombre
  // - Mostrar la foto
  // - Mostrar paginaciÃ³n

  // Si quieres, te puedo seguir completando la parte JS segÃºn tus reglas especÃ­ficas.

  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('collapsed');
  }

  function showForm() {
    document.getElementById('formSection').classList.toggle('active');
  }

  function showTab(tab) {
    document.getElementById('tablaActivos').style.display = tab === 'activos' ? 'block' : 'none';
    document.getElementById('tablaBaja').style.display = tab === 'baja' ? 'block' : 'none';
    document.getElementById('tabActivos').classList.toggle('active', tab === 'activos');
    document.getElementById('tabBaja').classList.toggle('active', tab === 'baja');
  }

  function previewFoto(e) {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = () => {
        document.getElementById('previewFoto').src = reader.result;
      };
      reader.readAsDataURL(file);
    }
  }
</script>
</body>
</html>
