<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gestión de Votaciones</title>
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0; 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #1e1e3f 0%, #0b0c2a 100%);
    color: #f7c948;
    min-height: 100vh;
    padding: 30px 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1, h2 {
    margin-bottom: 20px;
    text-shadow: 0 0 15px #f7c948aa;
    letter-spacing: 1.5px;
  }
  #formAgregar {
    margin-bottom: 40px;
    width: 100%;
    max-width: 500px;
    background: #14153a;
    padding: 20px 25px;
    border-radius: 15px;
    box-shadow: 0 0 15px #f7c94888;
  }
  #formAgregar input, #formAgregar textarea {
    width: 100%;
    padding: 10px 12px;
    margin-bottom: 15px;
    border-radius: 8px;
    border: none;
    font-size: 1rem;
    font-family: inherit;
  }
  #formAgregar button {
    background: #f7c948;
    border: none;
    padding: 12px 25px;
    font-weight: 700;
    color: #14153a;
    border-radius: 10px;
    font-size: 1.1rem;
    box-shadow: 0 5px 15px #f7c948aa;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #formAgregar button:hover {
    background: #ddb929;
  }

  .contenedor {
    width: 100%;
    max-width: 900px;
    margin-bottom: 60px;
  }

  .grid {
    display: grid;
    gap: 25px;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
  .card-votacion {
    background: #14153a;
    border-radius: 15px;
    padding: 20px 25px;
    box-shadow: 0 0 15px #f7c94888;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .card-votacion h3 {
    margin: 0 0 12px;
    font-size: 1.4rem;
  }
  .card-votacion p {
    flex-grow: 1;
    font-size: 1rem;
    line-height: 1.3;
    margin-bottom: 20px;
    color: #e6d078cc;
  }
  .btn-finalizar {
    align-self: flex-start;
    background: #f44336;
    border: none;
    padding: 10px 18px;
    font-weight: 700;
    color: white;
    border-radius: 10px;
    font-size: 1rem;
    box-shadow: 0 5px 15px #f4433688;
    cursor: pointer;
    transition: background 0.3s ease, box-shadow 0.3s ease;
  }
  .btn-finalizar:hover {
    background: #c63128;
    box-shadow: 0 8px 25px #c6312888;
  }
</style>
</head>
<body>
  <h1>Gestión de Votaciones</h1>

  <form id="formAgregar">
    <h2>Agregar nuevo evento de votación</h2>
    <input type="text" id="tituloEvento" placeholder="Título del evento" required />
    <textarea id="descEvento" rows="3" placeholder="Descripción del evento" required></textarea>
    <button type="submit">Agregar Evento</button>
  </form>

  <div class="contenedor">
    <h2>Eventos Activos</h2>
    <div id="eventosActivos" class="grid">
      <!-- Eventos activos aquí -->
    </div>
  </div>

  <div class="contenedor">
    <h2>Eventos Finalizados</h2>
    <div id="eventosFinalizados" class="grid">
      <!-- Eventos finalizados aquí -->
    </div>
  </div>

<script>
  // Arreglos para guardar eventos activos y finalizados
  let eventosActivos = [];
  let eventosFinalizados = [];

  const form = document.getElementById('formAgregar');
  const eventosActivosDiv = document.getElementById('eventosActivos');
  const eventosFinalizadosDiv = document.getElementById('eventosFinalizados');

  // Función para crear tarjeta de evento
  function crearTarjetaEvento(evento, finalizado = false) {
    const card = document.createElement('div');
    card.className = 'card-votacion';

    const titulo = document.createElement('h3');
    titulo.textContent = evento.titulo;

    const desc = document.createElement('p');
    desc.textContent = evento.descripcion;

    card.appendChild(titulo);
    card.appendChild(desc);

    if (!finalizado) {
      const btnFinalizar = document.createElement('button');
      btnFinalizar.textContent = 'Finalizar';
      btnFinalizar.className = 'btn-finalizar';
      btnFinalizar.onclick = () => {
        // Mover evento a finalizados
        eventosActivos = eventosActivos.filter(e => e.id !== evento.id);
        eventosFinalizados.push(evento);
        renderizarEventos();
      };
      card.appendChild(btnFinalizar);
    }

    return card;
  }

  // Función para renderizar eventos en pantalla
  function renderizarEventos() {
    eventosActivosDiv.innerHTML = '';
    eventosFinalizadosDiv.innerHTML = '';

    eventosActivos.forEach(evento => {
      eventosActivosDiv.appendChild(crearTarjetaEvento(evento));
    });

    eventosFinalizados.forEach(evento => {
      eventosFinalizadosDiv.appendChild(crearTarjetaEvento(evento, true));
    });
  }

  // Manejar envío del formulario
  form.addEventListener('submit', e => {
    e.preventDefault();
    const titulo = document.getElementById('tituloEvento').value.trim();
    const descripcion = document.getElementById('descEvento').value.trim();

    if (!titulo || !descripcion) return;

    // Crear evento con id único
    const nuevoEvento = {
      id: Date.now(),
      titulo,
      descripcion
    };

    eventosActivos.push(nuevoEvento);

    // Limpiar formulario
    form.reset();

    // Renderizar nuevamente
    renderizarEventos();
  });

  // Render inicial (vacío)
  renderizarEventos();
</script>

</body>
</html>
